<!DOCTYPE html>
<html lang="es" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Generador de documentaci贸n autom谩tica Sphinx para un proyecto Python." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Crear documentaci贸n de un proyecto Python con Sphinx. | Cosmoscalibur</title>
<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" rel="stylesheet">
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" rel="stylesheet">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../rss.xml" hreflang="es" rel="alternate" title="RSS (es)" type="application/rss+xml">
<link href="../../en/rss.xml" hreflang="en" rel="alternate" title="RSS (en)" type="application/rss+xml">
<link href="https://www.cosmoscalibur.com/blog/crear-documentacion-de-un-proyecto-python-con-sphinx/" rel="canonical">
<link href="../../images/favicon.jpg" rel="icon" sizes="32x32"><!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150354242-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150354242-1');
</script>
<meta content="Edward Villegas-Pulgarin" name="author">
<link href="../usar-anaconda-python-en-git-bash/" rel="prev" title="Usar Anaconda Python en Git Bash" type="text/html">
<link href="../estamos-preparados-para-un-nuevo-tipo-de-monedas-completamente-digitales/" rel="next" title="驴Estamos preparados para un nuevo tipo de monedas, completamente digitales?" type="text/html">
<meta content="Cosmoscalibur" property="og:site_name">
<meta content="Crear documentaci贸n de un proyecto Python con Sphinx." property="og:title">
<meta content="https://www.cosmoscalibur.com/blog/crear-documentacion-de-un-proyecto-python-con-sphinx/" property="og:url">
<meta content="Generador de documentaci贸n autom谩tica Sphinx para un proyecto Python." property="og:description">
<meta content="article" property="og:type">
<meta content="2020-01-06T19:24:48-05:00" property="article:published_time">
<meta content="documentaci贸n" property="article:tag">
<meta content="generador de documentaci贸n" property="article:tag">
<meta content="python" property="article:tag">
<meta content="restructuredtext" property="article:tag">
<meta content="sphinx" property="article:tag">
<meta content="summary" name="twitter:card">
<meta content="cosmoscalibur" name="twitter:site">
<meta content="eyvillegasp" name="twitter:creator">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Ir al contenido principal</a> <!-- Header and menu bar -->
<div class="container">
<header class="blog-header py-3">
<div class="row nbb-header align-items-center">
<div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;"><button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" data-target=".bs-nav-collapsible" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse bs-nav-collapsible bootblog4-search-form-holder"><!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Buscar en cosmoscalibur" type="text"></div>
<button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span></button> <input name="sitesearch" type="hidden" value="https://www.cosmoscalibur.com/"></form>
<!-- End of custom search --></div>
</div>
<div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;"><a class="navbar-brand blog-header-logo text-dark" href="../../"><span id="blog-title">Cosmoscalibur</span></a></div>
<div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
<nav class="navbar navbar-light bg-white">
<ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a class="nav-link" href="../../en/" hreflang="en" rel="alternate">English</a></li>
</ul>
</nav>
</div>
</div>
</header>
<nav class="navbar navbar-expand-md navbar-light bg-white static-top">
<div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
<ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item"><a class="nav-link" href="../../archive.html">Archivo</a></li>
<li class="nav-item"><a class="nav-link" href="../../categories/">Etiquetas</a></li>
<li class="nav-item"><a class="nav-link" href="../../rss.xml">Canal RSS</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></nav>
</div>
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Crear documentaci贸n de un proyecto Python con Sphinx.</a></h1>
<div class="metadata">
<p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">Edward Villegas-Pulgarin</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2020-01-06T19:24:48-05:00" itemprop="datePublished" title="2020-01-06 19:24">2020-01-06 19:24</time> <span class="updated">(updated <time class="updated dt-updated" datetime="2020-07-02T21:24:00-05:00" itemprop="dateUpdated" title="2020-07-02 21:24">2020-07-02 21:24</time>)</span></a></p>
<p class="commentline"><a data-disqus-identifier="cache/posts/crear-documentacion-de-un-proyecto-python-con-sphinx.html" href="#disqus_thread">Comentarios</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div>
<p>Sin duda, una etapa importante en cualquier proyecto de desarrollo (y no solo de <em>software</em>) es la generaci贸n de la documentaci贸n. En el caso de <em>software</em> es posible asistirse de herramientas que ayudan a automatizar la generaci贸n de la documentaci贸n mediante extracci贸n de comentarios en el c贸digo, usar palabras claves y lenguaje de marcado para modificaci贸n de estilo en el texto o inclusi贸n de otros elementos que no sean solo texto plano (im谩genes, ecuaciones, enlaces entre otros).</p>
<!-- TEASER_END -->
<p>Algunas herramientas para este fin son <a class="reference external" href="http://doxygen.nl/">Doxygen</a> (habitual para proyectos en C/C++), <a class="reference external" href="https://www.oracle.com/technetwork/java/javase/documentation/index-jsp-135444.html">Javadoc</a> (para Java, pero habitual tambi茅n en TypeScript), <a class="reference external" href="https://esdoc.org/">ESDoc</a> (para Javascript) y por supuesto, Sphinx, para Python.</p>
<p>En esta entrada instalaremos lo necesario para generar nuestra documentaci贸n de un proyecto Python y haremos un peque帽o ejemplo.</p>
<div class="section" id="latex">
<h2>LaTeX</h2>
<p>Si deseamos generar documentaci贸n web, este paquete no es necesario, pero para generar nuestra documentaci贸n en PDF es una dependencia obligatoria. La instalaci贸n recomendada depender谩 del sistema operativo que se use.</p>
<dl>
<dt>Mac</dt>
<dd>
<p>Puedes usar <a class="reference external" href="https://www.tug.org/mactex/">MacTex</a> el cual incluye el compilador TeXLive y editores como TeXShop, y otras dependencias para el funcionamiento de LaTeX en Mac.</p>
</dd>
<dt>Windows</dt>
<dd>
<p>La opci贸n m谩s c贸moda es el compilador <a class="reference external" href="https://miktex.org/download">MikTeX</a>, el cual permite de forma predeterminada la descarga autom谩tica de paquetes adicionales en la medida que sean requeridos (instalaci贸n <em>on the fly</em>).</p>
<p>Es importante que en la configuraci贸n no cambies al modo silencioso, pues esto puede afectar la ejecuci贸n posterior en los casos que requieran de instalaci贸n.</p>
<p>Si usas Anaconda, puedes incluirlo desde el canal de <em>conda-forge</em>, <code>conda install -c conda-forge miktex</code>.</p>
<p>En la primera forma de instalaci贸n requieres instalar Perl, en la segunda, este viene como dependencia instalada por el gestor de paquetes. Tambi茅n puedes usar <a class="reference external" href="https://tug.org/texlive/acquire.html">TeXLive</a> para Windows, el cual asegura la consistencia en el resultado entre los 3 sistemas operativos.</p>
</dd>
<dt>Linux</dt>
<dd>
<p>En Linux usaremos TeXLive pero su instalaci贸n la haremos directamente del gestor de paquetes del sistema operativo. En la mayor parte de distribuciones Linux estar谩 disponible a trav茅s del gestor.</p>
<p>En el caso de las distribuciones basadas en Debian (Ubuntu y Linux Mint entre otras) puedes instalar de la siguiente manera:</p>
<pre class="code text"><a id="rest_code_6c249e2f85d442aab6d8f466f187ba38-1" name="rest_code_6c249e2f85d442aab6d8f466f187ba38-1"></a>sudo apt install -y texlive texlive-latex-base texlive-latex-extra \
<a id="rest_code_6c249e2f85d442aab6d8f466f187ba38-2" name="rest_code_6c249e2f85d442aab6d8f466f187ba38-2"></a>    texlive-lang-spanish latexmk
</pre></dd>
</dl>
</div>
<div class="section" id="sphinx">
<h2>Sphinx</h2>
<p>Si usamos Python a trav茅s de Anaconda podemos usar el gestor <em>conda</em> para la instalaci贸n, as铆 <code>conda install sphinx</code>, en caso contrario, podemos usar el gestor de paquetes <em>PIP</em>: <code>pip install -U Sphinx</code>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si deseas una experiencia en Windows similar a Linux, usando el <code>Makefile</code> tradicional y la posibilidad de usar en combinaci贸n con Bash, te recomiendo usar Git Bash, y si es en conjunto con Anaconda puedes leer mi publicaci贸n al respecto, <a class="reference external" href="../usar-anaconda-python-en-git-bash/">Usar Anaconda Python en Git Bash</a> e instalar el paquete <code>make</code> con Anaconda (<code>conda install make</code>) o instalar <a class="reference external" href="http://mingw-w64.org/doku.php">Mingw-w64</a>.</p>
</div>
</div>
<div class="section" id="configuracion-de-sphinx">
<h2>Configuraci贸n de Sphinx</h2>
<p>Abriremos una consola (si es Windows, debes tener en cuenta que para usar paquetes de Anaconda debes usar las consolas Anaconda Prompt, Anaconda PowerShell u otra si la configuraste -como el caso de Git Bash que mencion茅 en la secci贸n anterior-) y debemos ubicarnos en el directorio que destinaremos para la documentaci贸n. Es habitual que en la estructura de nuestro proyecto destinemos un directorio <code>docs</code> para este fin.</p>
<p>Ahora ejecutamos <code>sphinx-quickstart</code> y respondemos las preguntas que saldr谩n. Es necesario tener en cuenta, que si usas Windows debes agregar al comando la terminaci贸n <code>.exe</code>, ejemplo <code>sphinx-quickstart.exe</code>.</p>
<pre class="code text"><a id="rest_code_4605531006c84ae990f0bfb60e635a56-1" name="rest_code_4605531006c84ae990f0bfb60e635a56-1"></a>&gt; Separate source and build directories (y/n) [n]: y
<a id="rest_code_4605531006c84ae990f0bfb60e635a56-2" name="rest_code_4605531006c84ae990f0bfb60e635a56-2"></a>&gt; Project name: proyecto
<a id="rest_code_4605531006c84ae990f0bfb60e635a56-3" name="rest_code_4605531006c84ae990f0bfb60e635a56-3"></a>&gt; Author name(s): Edward Villegas-Pulgarin
<a id="rest_code_4605531006c84ae990f0bfb60e635a56-4" name="rest_code_4605531006c84ae990f0bfb60e635a56-4"></a>&gt; Project release []: 0.1.0
<a id="rest_code_4605531006c84ae990f0bfb60e635a56-5" name="rest_code_4605531006c84ae990f0bfb60e635a56-5"></a>&gt; Project language [en]: es
</pre>
<p>Siempre recomiendo separar el directorio del c贸digo fuente de la documentaci贸n del directorio de compilados de la misma. Respecto al esquema de versiones me agrada el <a class="reference external" href="https://semver.org/">versionamiento sem谩ntico</a> que permite al usuario final intuir un poco m谩s sobre la madurez del proyecto con el n煤mero, pero puedes usar el <a class="reference external" href="https://calver.org/">esquema basado en fecha de liberaci贸n</a>. En el lenguaje se especifica el lenguaje con el c贸digo a dos letras internacional, acorde a los <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-language">soportados por Sphinx</a>.</p>
<p>Aunque en la terminal nos indican que podemos continuar con el archivo <code>index.rst</code>, debemos hacer unos peque帽os cambios en el archivo <code>conf.py</code> que encontraremos en <code>docs/source</code>.</p>
<p>Puedes saber m谩s opciones de configuraci贸n en la documentaci贸n de Sphinx sobre <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html">conf.py</a>.</p>
<div class="section" id="extensiones">
<h3>Extensiones</h3>
<p>Recomiendo incluir la extensi贸n de Autodoc para extraer autom谩ticamente la documentaci贸n de la API, MathJax para el soporte de ecuaciones matem谩ticas en la versi贸n Web y Napoleon para el estilo de Numpy y Google en la documentaci贸n. Con Coverage puedes validar que funciones se han documentado y dcotest integra pruebas de c贸digo desde la documentaci贸n (comparar salidas con ejemplo de documentaci贸n).</p>
<p>Modificar en el archivo.</p>
<pre class="code text"><a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-1" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-1"></a>extensions = [
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-2" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-2"></a>    'sphinx.ext.autodoc',
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-3" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-3"></a>    'sphinx.ext.mathjax',
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-4" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-4"></a>    'sphinx.ext.napoleon',
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-5" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-5"></a>    'sphinx.ext.coverage',
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-6" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-6"></a>    'sphinx.ext.doctest'
<a id="rest_code_413a0fc5d5a3467c99c3098eac91f37c-7" name="rest_code_413a0fc5d5a3467c99c3098eac91f37c-7"></a>]
</pre></div>
<div class="section" id="importar-paquete">
<h3>Importar paquete</h3>
<p>Para apoyarte de ejemplos actualizados autom谩ticamente, uso de metadatos desde el c贸digo (ejemplo, el autor o la versi贸n) puedes importar el paquete en el archivo de configuraci贸n. Dado que estar谩s en modo de desarrollo probablemente, el paquete no ha sido instalado y lo deber谩s hacer descomentando las tres primeras l铆neas de c贸digo en la secci贸n de <em>Path setup</em>. El punto que hay por defecto indica la misma carpeta de <code>docs/source</code>, por lo cual es necesario reemplazar por <code>../..</code> que se devuelve los dos niveles necesarios.</p>
<pre class="code text"><a id="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-1" name="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-1"></a>import os
<a id="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-2" name="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-2"></a>import sys
<a id="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-3" name="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-3"></a>import datetime
<a id="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-4" name="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-4"></a>sys.path.insert(0, os.path.abspath('../..'))
<a id="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-5" name="rest_code_098cfd1fbe95437ba7f67d2ae4badd49-5"></a>import proyecto
</pre>
<p>Ahora, puedes hacer cosas como la siguiente, si est谩 disponible en tu c贸digo.</p>
<pre class="code python"><a id="rest_code_a4371bc943694d4bbdf04332b73559c8-1" name="rest_code_a4371bc943694d4bbdf04332b73559c8-1"></a><span class="n">author</span> <span class="o">=</span> <span class="n">proyecto</span><span class="o">.</span><span class="n">__author__</span>
<a id="rest_code_a4371bc943694d4bbdf04332b73559c8-2" name="rest_code_a4371bc943694d4bbdf04332b73559c8-2"></a><span class="n">copyright</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="n">author</span>
<a id="rest_code_a4371bc943694d4bbdf04332b73559c8-3" name="rest_code_a4371bc943694d4bbdf04332b73559c8-3"></a><span class="n">release</span> <span class="o">=</span> <span class="n">proyecto</span><span class="o">.</span><span class="n">__version__</span>
</pre>
<p>Esto tiene un impacto respecto a algunas dependencias, que pueden provocar fallos o si para la generaci贸n de la documentaci贸n no tenemos todas las dependencias del paquete. En mi caso, he tenido problemas cuando tengo como dependencia Tensorflow o cuando tengo arcpy pero no tengo la licencia instalada. En este caso, podemos hacer un falseo (<em>mock</em>) de los paquetes:</p>
<pre class="code python"><a id="rest_code_ae81bc108f8347478f50a5e303487698-1" name="rest_code_ae81bc108f8347478f50a5e303487698-1"></a><span class="n">autodoc_mock_imports</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"tensorflow"</span><span class="p">,</span> <span class="s2">"arcpy"</span><span class="p">]</span>
</pre></div>
<div class="section" id="referencias-cruzadas">
<h3>Referencias cruzadas</h3>
<p>Para usar referencias cruzadas, es decir, numeraci贸n de tablas, figuras, c贸digos y ecuaciones si poseen pie de objeto, y ser referenciados en el texto por el n煤mero, se requiere configurar lo siguiente.</p>
<pre class="code text"><a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-1" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-1"></a>numfig = True
<a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-2" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-2"></a>numfig_format = {'figure': 'Fig. %s', 'table': 'Tabla %s',
<a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-3" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-3"></a>                 'code-block': 'C贸digo %s', 'section': 'Secci贸n %s'}
<a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-4" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-4"></a>numfig_secnum_depth = 1
<a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-5" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-5"></a>math_numfig = True
<a id="rest_code_04f5edd26d264945b15b72a3bf58b44f-6" name="rest_code_04f5edd26d264945b15b72a3bf58b44f-6"></a>math_eqref_format = 'Ec. {number}'
</pre>
<p>As铆, es posible usar <code>:label:</code> para asignar una referencia a los objetos y <code>:numref:</code> y <code>:eq:</code> a la hora de mencionarlos. Con <code>numfig_secnum_depth</code> configuras la numeraci贸n de los objetos, si es contin煤a (0), por secci贸n (1) y subsecci贸n (2).</p>
</div>
<div class="section" id="id1">
<h3>LaTeX</h3>
<p>Hay una configuraci贸n b谩sica para LaTeX que puedes agregar. El documento maestro, el nombre del archivo TeX, el nombre que nuestra documentaci贸n, el nombre del autor (que podemos usar la variable que ya definimos) y el tipo de documento (cuya clase <em>manual</em> est谩 definida por Sphinx).</p>
<pre class="code text"><a id="rest_code_7e9f20a1732f468a9411f650baa3f762-1" name="rest_code_7e9f20a1732f468a9411f650baa3f762-1"></a>master_doc = 'index'
<a id="rest_code_7e9f20a1732f468a9411f650baa3f762-2" name="rest_code_7e9f20a1732f468a9411f650baa3f762-2"></a>latex_documents = [
<a id="rest_code_7e9f20a1732f468a9411f650baa3f762-3" name="rest_code_7e9f20a1732f468a9411f650baa3f762-3"></a>    (master_doc, 'proyecto.tex', 'Documentaci贸n Proyecto',
<a id="rest_code_7e9f20a1732f468a9411f650baa3f762-4" name="rest_code_7e9f20a1732f468a9411f650baa3f762-4"></a>     author, 'manual'),
<a id="rest_code_7e9f20a1732f468a9411f650baa3f762-5" name="rest_code_7e9f20a1732f468a9411f650baa3f762-5"></a>]
</pre></div>
</div>
<div class="section" id="escritura-en-restructuredtext">
<h2>Escritura en ReStructuredText</h2>
<p>Sobre esto, es referencia ver la documentaci贸n de <a class="reference external" href="https://docutils.readthedocs.io/en/sphinx-docs/user/rst/quickstart.html">DocUtils</a> y de Sphinx <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">ReStructuredText Primer</a>.</p>
<p>Una vez tienes las bases de ReStructuredText puedes editar lo b谩sico. De ah铆, y para tener todo el provecho de Sphinx hay elementos como los roles, directivas y dominios que debes aprender a usar, <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html">Sphinx ReStructuredText</a>.</p>
<p>驴Y por qu茅 los dominios? Estos a帽aden sintaxis para manejar las relaciones con el c贸digo, como enlazar a funciones relacionadas que se generaron con <em>autodoc</em> y adem谩s la forma de como documentar la funci贸n (u otro elemento del c贸digo) en su c贸digo fuente y que pueda ser extra铆da. Por ejemplo, el <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#the-python-domain">dominio de Python</a>.</p>
<div class="section" id="que-archivos-debo-editar">
<h3>驴Qu茅 archivos debo editar?</h3>
<p>Primero, editaremos <code>docs/source/index.rst</code>, donde deberemos agregar los nombres de los archivos que se incluyen en la documentaci贸n, tanto los generados como los autom谩ticos. Se agrega uno por l铆nea, sin extensi贸n y la posici贸n es relativa a la ubicaci贸n del archivo <code>index.rst</code>.</p>
<p>Te recomiendo siempre un archivo <code>README.rst</code> que fija la generalidad e intenci贸n del proyecto, <code>history.rst</code> para tener documentados los cambios entre versiones (como un <em>changelog</em> pero a mano, m谩s condensado), un <code>usage.rst</code> documentando el uso de nuestro proyecto, <code>installation.rst</code> con instrucciones de instalaci贸n y adicional, agregar una ruta a la documentaci贸n de la API (la misma ruta la debemos indicar m谩s adelante). Puedes agregar m谩s archivos, por ejemplo, yo suelo usar un <code>concepts.rst</code> para detallar los conceptos necesarios antes de usar el software o detallar teor铆a que ayuda a interpretar resultados o que expande la informaci贸n para que alguien pueda analizar o continuar un desarrollo.</p>
<pre class="code text"><a id="rest_code_35621c2664a240ae93477c36c597da14-1" name="rest_code_35621c2664a240ae93477c36c597da14-1"></a>.. toctree::
<a id="rest_code_35621c2664a240ae93477c36c597da14-2" name="rest_code_35621c2664a240ae93477c36c597da14-2"></a>   :maxdepth: 3
<a id="rest_code_35621c2664a240ae93477c36c597da14-3" name="rest_code_35621c2664a240ae93477c36c597da14-3"></a>   :caption: Contenido:
<a id="rest_code_35621c2664a240ae93477c36c597da14-4" name="rest_code_35621c2664a240ae93477c36c597da14-4"></a>
<a id="rest_code_35621c2664a240ae93477c36c597da14-5" name="rest_code_35621c2664a240ae93477c36c597da14-5"></a>   README
<a id="rest_code_35621c2664a240ae93477c36c597da14-6" name="rest_code_35621c2664a240ae93477c36c597da14-6"></a>   installation
<a id="rest_code_35621c2664a240ae93477c36c597da14-7" name="rest_code_35621c2664a240ae93477c36c597da14-7"></a>   usage
<a id="rest_code_35621c2664a240ae93477c36c597da14-8" name="rest_code_35621c2664a240ae93477c36c597da14-8"></a>   api/modules
<a id="rest_code_35621c2664a240ae93477c36c597da14-9" name="rest_code_35621c2664a240ae93477c36c597da14-9"></a>   concepts
<a id="rest_code_35621c2664a240ae93477c36c597da14-10" name="rest_code_35621c2664a240ae93477c36c597da14-10"></a>   history
</pre>
<p>Y podemos borrar las l铆neas posteriores de <em>Indices and tables</em>.</p>
<p>Vemos la menci贸n a <code>api/modules</code>, la cual es importante para incluir la documentaci贸n autom谩tica extra铆da con Sphinx, que se explicar谩 en la pr贸xima secci贸n.</p>
</div>
</div>
<div class="section" id="ejecucion-de-sphinx">
<h2>Ejecuci贸n de Sphinx</h2>
<p>Como estamos haciendo uso de <em>autodoc</em>, nuestro primer paso es generar la extracci贸n de la API.</p>
<pre class="code text"><a id="rest_code_c119f08d8d694761832a8024951e1430-1" name="rest_code_c119f08d8d694761832a8024951e1430-1"></a>sphinx-apidoc -f -M -o source/api/ ../proyecto
</pre>
<p>Recordar que en Windows hay que agregar <code>.exe</code> (<code>sphinx-apidoc.exe</code>). <code>-f</code> es para forzar la regeneraci贸n de los archivos (importante si actualizamos la documentaci贸n de la API), <code>-M</code> para ubicar primero la documentaci贸n de los m贸dulos (por defecto primero son las funciones, y esto no me parece natural). Luego, es la ruta para la documentaci贸n de la API (uno de los archivos ser谩 el <code>api/modules.rst</code>) y finalmente la ruta donde se encuentra el paquete. Ambas rutas son relativas al directorio de documentaci贸n.</p>
<p>Ahora, solo es necesario generar la documentaci贸n: <code>make latexpdf</code> si es con el <em>Makefile</em> o <code>make.bat latexpdf</code> si no instalaste <em>make</em> en Windows. Aqu铆 debemos devolvernos un nivel en la carpeta para ejecutarlo.</p>
</div>
<div class="section" id="publicar">
<h2>Publicar</h2>
<p>Ahora encontrar谩s en la carpeta <em>build</em> los archivos LaTeX, y uno de ellos ser谩 el PDF que queremos. Tambi茅n puedes hacer compilaci贸n HTML (<code>make html</code>) y usar esta para publicar como un <a class="reference external" href="https://pages.github.com/">GitHub Pages</a> o en <a class="reference external" href="https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html">ReadTheDocs</a>.</p>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/documentacion/" rel="tag">documentaci贸n</a></li>
<li><a class="tag p-category" href="../../categories/generador-de-documentacion/" rel="tag">generador de documentaci贸n</a></li>
<li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
<li><a class="tag p-category" href="../../categories/restructuredtext/" rel="tag">restructuredtext</a></li>
<li><a class="tag p-category" href="../../categories/sphinx/" rel="tag">sphinx</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../usar-anaconda-python-en-git-bash/" rel="prev" title="Usar Anaconda Python en Git Bash">Publicaci贸n anterior</a></li>
<li class="next"><a href="../estamos-preparados-para-un-nuevo-tipo-de-monedas-completamente-digitales/" rel="next" title="驴Estamos preparados para un nuevo tipo de monedas, completamente digitales?">Siguiente publicaci贸n</a></li>
</ul>
</nav>
</aside>
<section class="comments hidden-print">
<h2>Comentarios</h2>
<div id="disqus_thread"></div>
<script>
        var disqus_shortname ="cosmoscalibur",
            disqus_url="https://www.cosmoscalibur.com/blog/crear-documentacion-de-un-proyecto-python-con-sphinx/",
        disqus_title="Crear documentaci\u00f3n de un proyecto Python con Sphinx.",
        disqus_identifier="cache/posts/crear-documentacion-de-un-proyecto-python-con-sphinx.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> <a class="dsq-brlink" href="https://disqus.com" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a></section>
</article>
<script>
var disqus_shortname="cosmoscalibur";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());
</script><!--End of body content-->
<footer id="footer">Si te ha sido 煤til o te ha gustado este contenido, <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=R6BHD346EBXMC&amp;source=url" rel="nofollow">inv铆tame una cerveza </a>.<br>
Contents 漏 2020 <a href="mailto:cosmoscalibur@gmail.com">Edward Villegas-Pulgarin</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> <a href="https://creativecommons.org/licenses/by/4.0/" rel="license"><img alt="Creative Commons License BY 4.0" src="https://licensebuttons.net/l/by/4.0/88x31.png" style="border-width:0; margin-bottom:12px;"></a></footer>
</div>
</div>
<script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
<script crossorigin="anonymous" integrity="sha256-/ijcOLwFf26xEYAjW75FizKVo5tnTYiQddPZoLUHHZ8=" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script crossorigin="anonymous" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js"></script>
<script src="../../assets/js/all.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
</script>
</body>
</html>
