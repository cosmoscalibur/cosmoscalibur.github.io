<!DOCTYPE html>
<html lang="es" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Crearemos un contenedor LXC que permita la ejecuci√≥n de la aplicaci√≥n gr√°fica (GUI) de Enterprise Architect Viewer (EALite - EA Viewer) en Linux." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Crear contenedor LXC para aplicaci√≥n GUI - EALite | Cosmoscalibur</title>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" rel="stylesheet">
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" rel="stylesheet">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../rss.xml" hreflang="es" rel="alternate" title="RSS (es)" type="application/rss+xml">
<link href="../../en/rss.xml" hreflang="en" rel="alternate" title="RSS (en)" type="application/rss+xml">
<link href="https://www.cosmoscalibur.com/blog/crear-contenedor-lxc-para-aplicacion-gui-ealite/" rel="canonical">
<link href="../../images/favicon.jpg" rel="icon" sizes="32x32"><!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150354242-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150354242-1');
</script>
<meta content="Edward Villegas-Pulgarin" name="author">
<link href="../nos-atraemos-gravitacionalmente/" rel="prev" title="¬øNos atraemos gravitacionalmente?" type="text/html">
<link href="../crear-contenedor-docker-aplicacion-gui-ealite/" rel="next" title="Crear contenedor Docker aplicaci√≥n GUI - EALite" type="text/html">
<meta content="Cosmoscalibur" property="og:site_name">
<meta content="Crear contenedor LXC para aplicaci√≥n GUI - EALite" property="og:title">
<meta content="https://www.cosmoscalibur.com/blog/crear-contenedor-lxc-para-aplicacion-gui-ealite/" property="og:url">
<meta content="Crearemos un contenedor LXC que permita la ejecuci√≥n de la aplicaci√≥n gr√°fica (GUI) de Enterprise Architect Viewer (EALite - EA Viewer) en Linux." property="og:description">
<meta content="article" property="og:type">
<meta content="2019-11-11T18:21:26-05:00" property="article:published_time">
<meta content="contenedor" property="article:tag">
<meta content="ealite" property="article:tag">
<meta content="enterprise architect" property="article:tag">
<meta content="linux" property="article:tag">
<meta content="lxc" property="article:tag">
<meta content="lxd" property="article:tag">
<meta content="wine" property="article:tag">
<meta content="summary" name="twitter:card">
<meta content="cosmoscalibur" name="twitter:site">
<meta content="eyvillegasp" name="twitter:creator">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Ir al contenido principal</a> <!-- Header and menu bar -->
<div class="container">
<header class="blog-header py-3">
<div class="row nbb-header align-items-center">
<div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;"><button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" data-target=".bs-nav-collapsible" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse bs-nav-collapsible bootblog4-search-form-holder"><!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Buscar en cosmoscalibur" type="text"></div>
<button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span></button> <input name="sitesearch" type="hidden" value="https://www.cosmoscalibur.com/"></form>
<!-- End of custom search --></div>
</div>
<div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;"><a class="navbar-brand blog-header-logo text-dark" href="../../"><span id="blog-title">Cosmoscalibur</span></a></div>
<div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
<nav class="navbar navbar-light bg-white">
<ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a class="nav-link" href="../../en/" hreflang="en" rel="alternate">English</a></li>
</ul>
</nav>
</div>
</div>
</header>
<nav class="navbar navbar-expand-md navbar-light bg-white static-top">
<div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
<ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item"><a class="nav-link" href="../../archive.html">Archivo</a></li>
<li class="nav-item"><a class="nav-link" href="../../categories/">Etiquetas</a></li>
<li class="nav-item"><a class="nav-link" href="../../rss.xml">Canal RSS</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></nav>
</div>
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Crear contenedor LXC para aplicaci√≥n GUI - EALite</a></h1>
<div class="metadata">
<p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">Edward Villegas-Pulgarin</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2019-11-11T18:21:26-05:00" itemprop="datePublished" title="2019-11-11 18:21">2019-11-11 18:21</time> <span class="updated">(updated <time class="updated dt-updated" datetime="2019-11-13T22:02:00-05:00" itemprop="dateUpdated" title="2019-11-13 22:02">2019-11-13 22:02</time>)</span></a></p>
<p class="commentline"><a data-disqus-identifier="cache/posts/crear-contenedor-lxc-para-aplicacion-gui-ealite.html" href="#disqus_thread">Comentarios</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div>
<p>El uso de contenedores en la industria del software se ha extendido ampliamente y no es de extra√±ar, ofrece a los desarrolladores la posibilidad de mejorar el aislamiento de sus servicios y de ah√≠ hacerlo menos susceptible a errores por colisiones con otros servicios o conflictos de dependencias. Al mismo tiempo, son una alternativa m√°s amigable en recursos respecto a las m√°quinas virtuales.</p>
<p>M√∫ltiples proveedores de infraestructura para nube ofrecen la opci√≥n de desplegar los servicios a partir de un contenedor, y sin duda, facilita la distribuci√≥n de entornos de desarrollo y aplicaciones.</p>
<!-- TEASER_END -->
<p>Con estos beneficios (algo similar a lo discutido en <a class="reference external" href="../instalando-paquetes-en-linux-mint/">Instalando paquetes en Linux (Mint)</a>), procederemos a crear un contenedor para la ejecuci√≥n de Enterprise Architect (la versi√≥n del visor, pero es aplicable a la versi√≥n completa). De manera oficial hay instrucciones para su uso en Linux con Wine pero la receta est√° incompleta (hay que agregar una instrucci√≥n m√°s) y es mejor no ensuciar nuestro sistema de 64 bits con bibliotecas de 32 bits de manera innecesaria. As√≠ que empecemos.</p>
<section id="instalar-lxd">
<h2>Instalar LXD</h2>
<p>Nuestro primer paso ser√° instalar el paquete LXD, el cual se encuentra disponible a trav√©s de m√∫ltiples gestores de paquetes de las distribuciones Linux pero tambi√©n como paquete snap. Por facilidad, usar√© el paquete snap.</p>
<pre class="code text"><a id="rest_code_63900eedadd9418cb64ef523430cb590-1" name="rest_code_63900eedadd9418cb64ef523430cb590-1"></a>sudo snap install lxd
</pre>
<p>Ahora, debemos inicializar (solo es necesario la primera vez tras instalar).</p>
<pre class="code text"><a id="rest_code_7695a47eda5041959a90c36ad68c2fd0-1" name="rest_code_7695a47eda5041959a90c36ad68c2fd0-1"></a>sudo lxd init
</pre>
<p>En mi caso, todos los valores que son preguntados los he dejado en su valor por defecto. Personalmente, solo deber√≠a preocuparnos el tama√±o de la unidad usado (en caso de tener limitaciones en espacio de almacenamiento).</p>
</section>
<section id="crear-perfil-gui">
<h2>Crear perfil GUI</h2>
<p>Por defecto, el comportamiento de los contenedores es para la ejecuci√≥n de servicios y aplicaciones de consola. Por eso, la ejecuci√≥n de una aplicaci√≥n gr√°fica nos requiere una configuraci√≥n adicional, que es realizar el paso al sistema gr√°fico de nuestro sistema hospedador.</p>
<p>El perfil gr√°fico es definido con el siguiente c√≥digo (copia y pega en un nuevo archivo, <code>lxdguiprofile.txt</code>).</p>
<pre class="code text"><a id="rest_code_447bbc9b3043456aacd153f012df7ba6-1" name="rest_code_447bbc9b3043456aacd153f012df7ba6-1"></a>config:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-2" name="rest_code_447bbc9b3043456aacd153f012df7ba6-2"></a>  environment.DISPLAY: :0
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-3" name="rest_code_447bbc9b3043456aacd153f012df7ba6-3"></a>  raw.idmap: both 1000 1000
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-4" name="rest_code_447bbc9b3043456aacd153f012df7ba6-4"></a>  user.user-data: |
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-5" name="rest_code_447bbc9b3043456aacd153f012df7ba6-5"></a>    #cloud-config
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-6" name="rest_code_447bbc9b3043456aacd153f012df7ba6-6"></a>    runcmd:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-7" name="rest_code_447bbc9b3043456aacd153f012df7ba6-7"></a>      - 'sed -i "s/; enable-shm = yes/enable-shm = no/g" /etc/pulse/client.conf'
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-8" name="rest_code_447bbc9b3043456aacd153f012df7ba6-8"></a>      - 'echo export PULSE_SERVER=unix:/tmp/.pulse-native | tee --append /home/ubuntu/.profile'
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-9" name="rest_code_447bbc9b3043456aacd153f012df7ba6-9"></a>    packages:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-10" name="rest_code_447bbc9b3043456aacd153f012df7ba6-10"></a>      - x11-apps
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-11" name="rest_code_447bbc9b3043456aacd153f012df7ba6-11"></a>      - mesa-utils
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-12" name="rest_code_447bbc9b3043456aacd153f012df7ba6-12"></a>      - pulseaudio
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-13" name="rest_code_447bbc9b3043456aacd153f012df7ba6-13"></a>description: GUI LXD profile
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-14" name="rest_code_447bbc9b3043456aacd153f012df7ba6-14"></a>devices:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-15" name="rest_code_447bbc9b3043456aacd153f012df7ba6-15"></a>  PASocket:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-16" name="rest_code_447bbc9b3043456aacd153f012df7ba6-16"></a>    path: /tmp/.pulse-native
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-17" name="rest_code_447bbc9b3043456aacd153f012df7ba6-17"></a>    source: /run/user/1000/pulse/native
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-18" name="rest_code_447bbc9b3043456aacd153f012df7ba6-18"></a>    type: disk
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-19" name="rest_code_447bbc9b3043456aacd153f012df7ba6-19"></a>  X0:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-20" name="rest_code_447bbc9b3043456aacd153f012df7ba6-20"></a>    path: /tmp/.X11-unix/X0
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-21" name="rest_code_447bbc9b3043456aacd153f012df7ba6-21"></a>    source: /tmp/.X11-unix/X0
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-22" name="rest_code_447bbc9b3043456aacd153f012df7ba6-22"></a>    type: disk
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-23" name="rest_code_447bbc9b3043456aacd153f012df7ba6-23"></a>  mygpu:
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-24" name="rest_code_447bbc9b3043456aacd153f012df7ba6-24"></a>    type: gpu
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-25" name="rest_code_447bbc9b3043456aacd153f012df7ba6-25"></a>name: gui
<a id="rest_code_447bbc9b3043456aacd153f012df7ba6-26" name="rest_code_447bbc9b3043456aacd153f012df7ba6-26"></a>used_by:
</pre>
<p>Ahora, crearemos el perfil:</p>
<pre class="code text"><a id="rest_code_d34c5a775400400bb3ac318dd02850aa-1" name="rest_code_d34c5a775400400bb3ac318dd02850aa-1"></a>sudo lxc profile create gui
<a id="rest_code_d34c5a775400400bb3ac318dd02850aa-2" name="rest_code_d34c5a775400400bb3ac318dd02850aa-2"></a>cat lxdguiprofile.txt | sudo lxc profile edit gui
</pre>
<p>Este procedimiento, solo es necesario hacerlo la primera vez.</p>
</section>
<section id="obtener-contenedor-base">
<h2>Obtener contenedor base</h2>
<p>Una vez creado el perfil, lanzaremos un contenedor usando una imagen base, es decir, sobre la cual desarrollaremos nuestra necesidad. Estas im√°genes base se encuentran disponibles en la p√°gina del proyecto y son bases de m√∫ltiples distribuciones Linux, con versiones y arquitecturas diferentes.</p>
<p>Para nuestro fin, usaremos una base de Ubuntu 18.04 para arquitectura i386, que corresponde a 32 bits. Puedes usar otra distribuci√≥n siempre y cuando disponga de la forma de instalar los paquetes necesarios y en versiones recientes (entre m√°s reciente sea Wine, mejor).</p>
<pre class="code text"><a id="rest_code_bfe75648163342118f6f3ecf19608e89-1" name="rest_code_bfe75648163342118f6f3ecf19608e89-1"></a>sudo lxc launch --profile default --profile gui images:ubuntu/18.04/i386 ea
</pre>
<p>Cuando no requerimos la parte gr√°fica, podemos omitir <code>--profile default --profile gui</code>. Los dos perfiles son un proceso de herencia, primero se carga el perfil por defecto y luego se a√±ade lo necesario para las aplicaciones gr√°ficas.</p>
<p>Este procedimiento es la primera vez de cada contenedor. Si por error omitimos el perfil gr√°fico, tendremos que volverlo a crear. Si por un error en la especificaci√≥n del contenedor lo deseamos eliminar, podemos ejecutar <code>sudo lxc rm ea --force</code>. El forzado es necesario para detener la ejecuci√≥n del contenedor, o igual podr√≠amos detenerlo primero, <code>sudo lxc stop ea</code>.</p>
</section>
<section id="comandos-en-el-contenedor">
<h2>Comandos en el contenedor</h2>
<p>Para instalar nuestro programa en el contenedor, necesitamos ejecutar comandos en este. Para ello, tenemos <code>lxc exec {contenedor} -- {comando}</code>. Una forma interactiva, adecuada para pruebas, es ejecutar bash.</p>
<pre class="code text"><a id="rest_code_a3a6a00865ff4f8da590618f1453ff56-1" name="rest_code_a3a6a00865ff4f8da590618f1453ff56-1"></a>sudo lxc exec ea -- /bin/bash
</pre>
<p>De esta manera podemos ejecutar los comandos de la misma manera que lo hacemos en nuestro sistema, ya que estamos en el contenedor.</p>
<p>Si deseamos automatizar, nos interesar√° enviar directamente las instrucciones en lugar de bash. Ejemplo, <code>sudo lxc exec ea -- apt update -q</code>. Notemos que se ha usado un comando que requiere privilegios de administrador, y es porque por defecto el ingreso al contenedor es como administrador. Para hacer uso del usuario est√°ndar debemos indicarlo de forma expl√≠cita (por defecto, tenemos el usuario ubuntu), <code>sudo lxc exec ea -- su - ubuntu -c 'echo $(uname -a)'</code>.</p>
</section>
<section id="gestionar-archivos">
<h2>Gestionar archivos</h2>
<p>La gesti√≥n de archivos es realizada con los comandos <code>file pull</code> y <code>file push</code>.</p>
<p>As√≠, si deseamos enviar un archivo:</p>
<pre class="code text"><a id="rest_code_c467bc58da8b413a852a4002b6e6b214-1" name="rest_code_c467bc58da8b413a852a4002b6e6b214-1"></a>sudo lxc file push {archivo local} {contenedor}/{ruta contenedor}
</pre>
<p>Y si deseamos traer un archivo del contenedor:</p>
<pre class="code text"><a id="rest_code_5d928b6eaab64e408afd9c427bb12e5c-1" name="rest_code_5d928b6eaab64e408afd9c427bb12e5c-1"></a>sudo lxc file pull {contenedor}/{ruta contenedor} {archivo local}
</pre></section>
<section id="instalar-ealite">
<h2>Instalar EALite</h2>
<p>Ahora que sabemos ejecutar comandos en el contenedor, instalaremos las dependencias y finalmente EALite.</p>
<pre class="code text"><a id="rest_code_84eb8172d68a4109aebce083f84c0251-1" name="rest_code_84eb8172d68a4109aebce083f84c0251-1"></a>sudo lxc exec ea -- apt update -q
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-2" name="rest_code_84eb8172d68a4109aebce083f84c0251-2"></a>sudo lxc exec ea -- apt install --install-recommends -y wine-stable winetricks
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-3" name="rest_code_84eb8172d68a4109aebce083f84c0251-3"></a>sudo lxc exec ea -- apt install -y fonts-crosextra-carlito
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-4" name="rest_code_84eb8172d68a4109aebce083f84c0251-4"></a>sudo lxc exec ea -- su - ubuntu -c 'winetricks --unattended msxml3'
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-5" name="rest_code_84eb8172d68a4109aebce083f84c0251-5"></a>sudo lxc exec ea -- su - ubuntu -c 'winetricks --unattended msxml4'
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-6" name="rest_code_84eb8172d68a4109aebce083f84c0251-6"></a>sudo lxc exec ea -- su - ubuntu -c 'winetricks --unattended msxml6'
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-7" name="rest_code_84eb8172d68a4109aebce083f84c0251-7"></a>sudo lxc exec ea -- su - ubuntu -c 'winetricks --unattended mdac28'
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-8" name="rest_code_84eb8172d68a4109aebce083f84c0251-8"></a>sudo lxc exec ea -- su - ubuntu -c 'winetricks --unattended jet40'
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-9" name="rest_code_84eb8172d68a4109aebce083f84c0251-9"></a>wget http://www.sparxsystems.com.au/bin/EALite.exe
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-10" name="rest_code_84eb8172d68a4109aebce083f84c0251-10"></a>sudo lxc file push EALite.exe ea/home/ubuntu/EALite.exe
<a id="rest_code_84eb8172d68a4109aebce083f84c0251-11" name="rest_code_84eb8172d68a4109aebce083f84c0251-11"></a>sudo lxc exec ea -- su - ubuntu -c 'wine msiexec /i EALite.exe'
</pre>
<p>En este punto, procederemos de manera gr√°fica a la instalaci√≥n final de EALite.</p>
<figure class="align-center"><a class="reference external image-reference" href="../../images/crear-contenedor-lxc-para-aplicacion-gui-ealite/instalacion-grafica-ealite-lxc.png"><img alt="Ventana de instalaci√≥n gr√°fica de EALite." src="../../images/crear-contenedor-lxc-para-aplicacion-gui-ealite/instalacion-grafica-ealite-lxc.thumbnail.png" style="width: 480px;"></a>
<figcaption>
<p>Ventana de instalaci√≥n gr√°fica de EALite.</p>
</figcaption>
</figure>
<p>Ahora, es necesario crear un mecanismo simple para la ejecuci√≥n de EA.</p>
<pre class="code text"><a id="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-1" name="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-1"></a>sudo lxc exec ea -- su - ubuntu -c 'mkdir $HOME/.local/bin'
<a id="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-2" name="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-2"></a>sudo lxc exec ea -- su - ubuntu -c 'echo "wine $HOME/.wine/drive_c/Program\ Files/Sparx\ Systems/EA\ LITE/EA.exe" &gt; $HOME/.local/bin/ealite'
<a id="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-3" name="rest_code_de6c82a7dd0f4963aa5a5fde3972f0de-3"></a>sudo lxc exec ea -- su - ubuntu -c 'chmod 755 $HOME/.local/bin/ealite'
</pre></section>
<section id="ejecutar-ealite">
<h2>Ejecutar EALite</h2>
<p>Ahora, podemos usar el visor de Enterprise Architect.</p>
<pre class="code text"><a id="rest_code_ebdf51e320be4944bf5b45ac5e79b4b9-1" name="rest_code_ebdf51e320be4944bf5b45ac5e79b4b9-1"></a>sudo lxc exec ea -- su - ubuntu -c 'ealite'
</pre>
<p>Cuando iniciemos el sistema operativo, requerimos de iniciar el contenedores antes de ejecutar la instrucci√≥n anterior, <code>sudo lxc start ea</code>.</p>
<figure class="align-center"><a class="reference external image-reference" href="../../images/crear-contenedor-lxc-para-aplicacion-gui-ealite/ealite-inicio-lxc.png"><img alt="EA Viewer abierto." src="../../images/crear-contenedor-lxc-para-aplicacion-gui-ealite/ealite-inicio-lxc.thumbnail.png" style="width: 480px;"></a>
<figcaption>
<p>EA Viewer abierto.</p>
</figcaption>
</figure>
<figure class="align-center"><img alt="Acceso al sistema de archivos del contenedor y no solo de la unidad de Wine." src="../../images/crear-contenedor-lxc-para-aplicacion-gui-ealite/ealite-abrir-proyecto-lxc.png" style="width: 480px;">
<figcaption>
<p>Acceso al sistema de archivos del contenedor y no solo de la unidad de Wine.</p>
</figcaption>
</figure>
<p>Puedes asegurar una forma simple de ejecutar EALite creando una rutina de lanzamiento con las dos l√≠neas anteriores en un archivo que sea reconocido en el <code>path</code>.</p>
<pre class="code text"><a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-1" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-1"></a>mkdir -p $HOME/.local/bin
<a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-2" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-2"></a>cat &lt;&lt; EOF &gt; $HOME/.local/bin/ealite
<a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-3" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-3"></a>sudo lxc start ea
<a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-4" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-4"></a>sudo lxc exec ea -- su - ubuntu -c 'ealite'
<a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-5" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-5"></a>EOF
<a id="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-6" name="rest_code_b1ee81518aa24066b0ea5727fbd5e2cd-6"></a>chmod 755 $HOME/.local/bin/ealite
</pre>
<p>La ejecuci√≥n con <code>sudo</code> puede omitirse si se a√±ade el usuario a un grupo que permita la ejecuci√≥n de lxc. M√°s adelante, har√© una publicaci√≥n sobre como hacerlo. Por ahora, divi√©rtete ejecutando <code>ealite</code> e ingresando la contrase√±a de administrador.</p>
<p>Para abrir un proyecto, recuerda usar <code>file push</code> y explorar dentro del contenedor.</p>
</section>
<section id="compartir">
<h2>Compartir</h2>
<p>Para compartir el contenedor, puedes publicarlo y exportar la imagen.</p>
<pre class="code text"><a id="rest_code_e5dd8ca8e8414efaa8103d495dca8ef8-1" name="rest_code_e5dd8ca8e8414efaa8103d495dca8ef8-1"></a>sudo lxc publish ea --alias ealite
<a id="rest_code_e5dd8ca8e8414efaa8103d495dca8ef8-2" name="rest_code_e5dd8ca8e8414efaa8103d495dca8ef8-2"></a>sudo lxc image export ealite
</pre>
<p>La imagen exportada es un archivo <code>tar.gz</code> con el nombre asociado al <em>fingerprint</em> (una secuencia alfanum√©rica). Luego se debe importar la imagen y hacer <code>launch</code> nuevamente con el perfil.</p>
<p>Tambi√©n puedes exportar directamente el contenedor, lo cual es recomendable porque lleva con ello la configuraci√≥n del perfil GUI y es listo para usar una vez hagas la importaci√≥n.</p>
<pre class="code text"><a id="rest_code_1eeb73eb414e4593a0c147b6e14225fd-1" name="rest_code_1eeb73eb414e4593a0c147b6e14225fd-1"></a>sudo lxc export ea ea.tar.gz --optimized-storage
</pre></section>
<section id="referencias">
<h2>Referencias</h2>
<ul class="simple">
<li>
<p><a class="reference external" href="https://www.sparxsystems.eu/enterprisearchitect/ea-lite-edition/">EA Viewer</a>.</p>
</li>
<li>
<p><a class="reference external" href="https://askubuntu.com/questions/827070/cant-run-glxgears-in-root-on-lxc-2-0-container/827146">can't run ‚Äúglxgears‚Äù in root on lxc 2.0 container</a>. Soluci√≥n a un posible error usando GUI en LXC.</p>
</li>
<li>
<p><a class="reference external" href="https://blog.simos.info/how-to-easily-run-graphics-accelerated-gui-apps-in-lxd-containers-on-your-ubuntu-desktop/">How to easily run graphics-accelerated GUI apps in LXD containers on your Ubuntu desktop</a>.</p>
</li>
<li>
<p><a class="reference external" href="https://linuxcontainers.org/lxd/getting-started-cli/">LXD Getting started - command line</a>.</p>
</li>
<li>
<p><a class="reference external" href="https://us.images.linuxcontainers.org/">Image server for LXC and LXD</a>.</p>
</li>
<li>
<p><a class="reference external" href="https://www.sparxsystems.com/enterprise_architect_user_guide/14.0/product_information/enterprise_architect_linux.html">Installing Enterprise Architect under Linux</a></p>
</li>
<li>
<p><a class="reference external" href="https://wiki.winehq.org/Winetricks">Winetricks</a>.</p>
</li>
<li>
<p><a class="reference external" href="https://stackoverflow.com/questions/31228191/how-do-i-export-a-lxc-container">How do I export a lxc container?</a></p>
</li>
</ul>
</section>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/contenedor/" rel="tag">contenedor</a></li>
<li><a class="tag p-category" href="../../categories/ealite/" rel="tag">ealite</a></li>
<li><a class="tag p-category" href="../../categories/enterprise-architect/" rel="tag">enterprise architect</a></li>
<li><a class="tag p-category" href="../../categories/linux/" rel="tag">linux</a></li>
<li><a class="tag p-category" href="../../categories/lxc/" rel="tag">lxc</a></li>
<li><a class="tag p-category" href="../../categories/lxd/" rel="tag">lxd</a></li>
<li><a class="tag p-category" href="../../categories/wine/" rel="tag">wine</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../nos-atraemos-gravitacionalmente/" rel="prev" title="¬øNos atraemos gravitacionalmente?">Publicaci√≥n anterior</a></li>
<li class="next"><a href="../crear-contenedor-docker-aplicacion-gui-ealite/" rel="next" title="Crear contenedor Docker aplicaci√≥n GUI - EALite">Siguiente publicaci√≥n</a></li>
</ul>
</nav>
</aside>
<section class="comments hidden-print">
<h2>Comentarios</h2>
<div id="disqus_thread"></div>
<script>
        var disqus_shortname ="cosmoscalibur",
            disqus_url="https://www.cosmoscalibur.com/blog/crear-contenedor-lxc-para-aplicacion-gui-ealite/",
        disqus_title="Crear contenedor LXC para aplicaci\u00f3n GUI - EALite",
        disqus_identifier="cache/posts/crear-contenedor-lxc-para-aplicacion-gui-ealite.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> <a class="dsq-brlink" href="https://disqus.com" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a></section>
</article>
<script>
var disqus_shortname="cosmoscalibur";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());
</script><!--End of body content-->
<footer id="footer">Si te ha sido √∫til o te ha gustado este contenido, <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=R6BHD346EBXMC&amp;source=url" rel="nofollow">inv√≠tame una cerveza üç∫</a>.<br>
Contents ¬© 2021 <a href="mailto:cosmoscalibur@gmail.com">Edward Villegas-Pulgarin</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> <a href="https://creativecommons.org/licenses/by/4.0/" rel="license"><img alt="Creative Commons License BY 4.0" src="https://licensebuttons.net/l/by/4.0/88x31.png" style="border-width:0; margin-bottom:12px;"></a></footer>
</div>
</div>
<script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script>
<script crossorigin="anonymous" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js"></script>
<script src="../../assets/js/all.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
