selector_to_html = {"a[href=\"#imagenes\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Im\u00e1genes<a class=\"headerlink\" href=\"#imagenes\" title=\"Link to this heading\">#</a></h2><p>Con el fin de reducir la descarga y tiempo asociado a las im\u00e1genes, decid\u00ed\nrespaldar im\u00e1genes en el repositorio y usar la opci\u00f3n de thumbnail de Nikola\n[<a class=\"reference internal\" href=\"#thumb\">thumb</a>]. Esto permite usar una versi\u00f3n de tama\u00f1o reducido para los art\u00edculos\npero que vincula a la imagen original (la cual puedo optimizar tambi\u00e9n).</p><p>Esto tiene una ventaja adicional, y es asegurar la existencia de las im\u00e1genes\npara el futuro sin depender de la fuente original (la cual, en la medida de lo\nposible mantendr\u00e9 referencia) y en un futuro puede permitir opciones de\nservido por CDN (una opci\u00f3n tentadora es Statically [<a class=\"reference internal\" href=\"#cdn\">cdn</a>]), im\u00e1genes\noptimizadas [<a class=\"reference internal\" href=\"#opt\">opt</a>, <a class=\"reference internal\" href=\"#tools\">tools</a>] como el uso del formato webp\n[<a class=\"reference internal\" href=\"#webp\">webp</a>, <a class=\"reference internal\" href=\"#caniuse\">caniuse</a>, <a class=\"reference internal\" href=\"#fallback\">fallback</a>], tama\u00f1os diferentes por dispositivo\n[<a class=\"reference internal\" href=\"#picture-media\">picture-media</a>] y carga diferida [<a class=\"reference internal\" href=\"#defer\">defer</a>, <a class=\"reference internal\" href=\"#lazy\">lazy</a>]. Este cambio permiti\u00f3 ver\nen el art\u00edculo m\u00e1s cr\u00edtico (<a class=\"reference internal\" href=\"../../2013/cosmogonia-griega/\"><span class=\"doc\">Cosmogon\u00eda griega</span></a>) notar una reducci\u00f3n del\ntama\u00f1o de archivos descargados (se compara el tama\u00f1o potencial de reducci\u00f3n de\nlas im\u00e1genes respecto a su peso en webp).</p>", "a[href=\"#publicidad\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Publicidad<a class=\"headerlink\" href=\"#publicidad\" title=\"Link to this heading\">#</a></h2><p>El blog no ha tenido publicidad, pero hace un tiempo he venido revisando el\ntema de monetizar el blog. La idea es hacerlo de una forma no invasiva pero\nsin muchas complicaciones para mi tambi\u00e9n.</p><p>Es as\u00ed como Google AdSense [<a class=\"reference internal\" href=\"#gads\">gads</a>] por sus procesos de validaci\u00f3n y la\npenalizaci\u00f3n que he sufrido en tiempo de carga por la adici\u00f3n en el c\u00f3digo no\nme parece prudente. Adicional, no puedo asegurar que la publicidad mostrada\nsea realmente acorde al blog (as\u00ed pueda serlo para el lector).</p>", "a[href=\"#sistema-de-comentarios\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Sistema de comentarios<a class=\"headerlink\" href=\"#sistema-de-comentarios\" title=\"Link to this heading\">#</a></h2><p>Si bien pensar en una forma de interacci\u00f3n directa con los lectores del blog\nes importante, se debe evaluar en el tiempo su impacto. En el caso de mi blog,\nla cantidad de comentarios durante su historia lo hace despreciable cuando\ncontrasto con la penalizaci\u00f3n en el tiempo de carga que ha introducido el\nsistema de comentarios.</p><p>Disqus [<a class=\"reference internal\" href=\"#dqs\">dqs</a>] es un sistema de comentarios importante, permite socializar y asocia un\nperfil de los lectores y los generadores de contenido, lo cual permite tambi\u00e9n\ngenerar tr\u00e1fico, pero en mi caso tampoco representa una fuente de tr\u00e1fico\nimportante ni de una contribuci\u00f3n que quiera considerar.</p>", "a[href=\"#reformas-del-blog-parte-1\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Reformas del blog: Parte 1<a class=\"headerlink\" href=\"#reformas-del-blog-parte-1\" title=\"Link to this heading\">#</a></h1><p>Bueno, he estado en m\u00faltiples ocasiones por escribir sobre mantener un blog, y\nhoy fue el caso, pero centrado en unas actualizaciones que he hecho para\nmejorar la experiencia de los lectores que usan su celular y deben soportar\naltos tiempos de carga y una alta descarga en im\u00e1genes cuando las contiene.</p><p>Esto puede no ser v\u00e1lido para todos, pero resulta de mi experiencia particular\ny, bajo la condici\u00f3n de tener un sitio generado de forma est\u00e1tica con Nikola\ny alojado en GitHub. He planteado parte 1 porque pretendo hacer unas reformas\nadicionales m\u00e1s adelante.</p>", "a[href=\"#referencias\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Referencias<a class=\"headerlink\" href=\"#referencias\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#pagespeed\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">PageSpeed<a class=\"headerlink\" href=\"#pagespeed\" title=\"Link to this heading\">#</a></h2><p>Antes que nada esto surge porque estuve haciendo seguimiento a las m\u00e9tricas de\nla herramienta PageSpeed [<a class=\"reference internal\" href=\"#ps\">ps</a>] que ofrece Google integrada a su plataforma de\nAnalytics (puedes usar de forma local con Lighthouse [<a class=\"reference internal\" href=\"#lh\">lh</a>]). El an\u00e1lisis\nentrega no solo m\u00e9tricas sino tambi\u00e9n algunas recomendaciones y por ello\nproced\u00ed a ponerme en ello (dado que la mayor parte de mis lectores usan su\ncelular).</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
